{"version":3,"sources":["webpack:///./src/tools/converter/image/httpImage.vue?1d0b","webpack:///src/tools/converter/image/httpImage.vue","webpack:///./src/tools/converter/image/httpImage.vue?6dbd","webpack:///./src/tools/converter/image/httpImage.vue","webpack:///./src/tools/converter/image/httpImage.vue?13bb","webpack:///./src/tools/converter/image/httpImage.vue?569f","webpack:///./src/tools/converter/image/httpImage.vue?275b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","attrs","type","key","$t","model","value","formData","callback","$$v","$set","expression","staticStyle","accept","split","on","changeFile","domProps","_s","imageOriginSize","width","height","_e","path","trim","imageLoaded","imageLoadError","_l","item","index","label","changeImageSize","imageSize","changeWidth","slot","toggleLockSize","lockSize","changeHeight","imageIsReady","file","doConvert","convertResponse","status","data","$event","$downloadImage","_v","message","staticRenderFns","name","components","Upload","Button","props","String","default","allImageTypes","Array","allSize","imageType","computed","bgType","$store","state","bg","language","converterCardStyles","backgroundColor","$lightenOrDarken","resultStyles","from","Set","map","mounted","methods","Number","e","size","Math","floor","target","naturalWidth","naturalHeight","args","img","onload","src","$getFileURL","watch","immediate","handler","val","component","module","exports","Component","options","__i18n","push","_Ctor"],"mappings":"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","file":"js/chunk-a720859c.a8ce1887.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Form',{staticClass:\"form_container\",style:(_vm.converterCardStyles),attrs:{\"label-width\":80}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.type === 'http')?_c('FormItem',{key:\"http\",attrs:{\"label\":_vm.$t('address')}},[_c('Input',{attrs:{\"placeholder\":_vm.$t('address-placeholder')},model:{value:(_vm.formData.path),callback:function ($$v) {_vm.$set(_vm.formData, \"path\", $$v)},expression:\"formData.path\"}})],1):_c('FormItem',{key:\"local\",attrs:{\"label\":_vm.$t('choose')}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"align-items\":\"flex-end\"}},[_c('Upload',{staticStyle:{\"width\":\"200px\",\"height\":\"200px\"},style:(_vm.resultStyles),attrs:{\"accept\":_vm.accept,\"need-preview\":true,\"format\":_vm.formData.accept.split(';')},on:{\"change\":_vm.changeFile}}),(_vm.formData.file)?_c('span',{staticStyle:{\"margin-left\":\"10px\",\"line-height\":\"1\",\"font-family\":\"Consolas,Menlo,Courier,monospace\"},domProps:{\"textContent\":_vm._s(_vm.imageOriginSize.width + 'x' + _vm.imageOriginSize.height)}}):_vm._e()],1)])],1),(_vm.type === 'http' && _vm.formData.path && _vm.formData.path.trim())?_c('transition',{attrs:{\"name\":\"fade\",\"label-wdith\":80}},[_c('FormItem',{attrs:{\"label-width\":80}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\",\"align-items\":\"flex-end\"}},[_c('div',{staticClass:\"image_previewer\",staticStyle:{\"display\":\"inline-flex\"}},[_c('img',{attrs:{\"src\":_vm.formData.path,\"alt\":_vm.$t('picture-error')},on:{\"load\":_vm.imageLoaded,\"error\":_vm.imageLoadError}})]),(_vm.imageIsReady)?_c('span',{staticStyle:{\"margin-left\":\"10px\",\"line-height\":\"1\",\"font-family\":\"Consolas,Menlo,Courier,monospace\"},domProps:{\"textContent\":_vm._s(_vm.imageOriginSize.width + 'x' + _vm.imageOriginSize.height)}}):_vm._e()])])],1):_vm._e(),_c('FormItem',{attrs:{\"label\":_vm.$t('type')}},[_c('Select',{attrs:{\"filterable\":\"\"},model:{value:(_vm.formData.imageType),callback:function ($$v) {_vm.$set(_vm.formData, \"imageType\", $$v)},expression:\"formData.imageType\"}},_vm._l((_vm.allImageTypes),function(item,index){return _c('Option',{key:item.label,attrs:{\"value\":item.label,\"label\":item.label}})}),1)],1),_c('FormItem',{attrs:{\"label\":_vm.$t('size')}},[_c('Select',{staticStyle:{\"width\":\"150px\",\"float\":\"left\"},on:{\"on-change\":_vm.changeImageSize},model:{value:(_vm.formData.imageSize),callback:function ($$v) {_vm.$set(_vm.formData, \"imageSize\", $$v)},expression:\"formData.imageSize\"}},_vm._l((_vm.allSize),function(item,index){return _c('Option',{key:item.label,attrs:{\"value\":item.value,\"label\":item.label}})}),1),_c('div',{staticStyle:{\"float\":\"left\",\"margin-left\":\"10px\",\"display\":\"inline-flex\",\"flex-direction\":\"row\",\"align-items\":\"center\",\"justify-content\":\"flex-start\"}},[_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.formData.imageSize == -1)?_c('Input',{staticStyle:{\"width\":\"120px\"},attrs:{\"number\":true},on:{\"on-change\":_vm.changeWidth},model:{value:(_vm.formData.width),callback:function ($$v) {_vm.$set(_vm.formData, \"width\", $$v)},expression:\"formData.width\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},domProps:{\"textContent\":_vm._s(_vm.$t('width'))},slot:\"prepend\"})]):_vm._e()],1),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.formData.imageSize == -1)?_c('Tooltip',{staticStyle:{\"width\":\"32px\",\"height\":\"32px\",\"margin-left\":\"10px\"},attrs:{\"content\":_vm.$t('lock'),\"placement\":\"top\"}},[_c('div',{staticClass:\"size_lock\",on:{\"click\":_vm.toggleLockSize}},[_c('svg',[_c('use',{attrs:{\"xlink:href\":'#' + (_vm.lockSize ? 'icon-lock' : 'icon-unlock')}})])])]):_vm._e()],1),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.formData.imageSize == -1)?_c('Input',{staticStyle:{\"width\":\"120px\",\"margin-left\":\"10px\"},attrs:{\"number\":true},on:{\"on-change\":_vm.changeHeight},model:{value:(_vm.formData.height),callback:function ($$v) {_vm.$set(_vm.formData, \"height\", $$v)},expression:\"formData.height\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},domProps:{\"textContent\":_vm._s(_vm.$t('height'))},slot:\"prepend\"})]):_vm._e()],1)],1)],1),_c('FormItem',{attrs:{\"label-width\":80}},[_c('Button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.imageIsReady && !_vm.formData.file},domProps:{\"textContent\":_vm._s(_vm.$t('convert'))},on:{\"click\":_vm.doConvert}})],1),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{staticClass:\"converter_result\"},[_c('div',{staticClass:\"converter_result_header\"},[_c('div',{staticClass:\"converter_result_header_bg\",style:(_vm.resultStyles)}),_c('div',{staticClass:\"converter_result_header_content\",style:(_vm.converterCardStyles),domProps:{\"textContent\":_vm._s(_vm.$t('output'))}})]),(_vm.convertResponse.status !== 200 || !_vm.convertResponse.data.path || !_vm.convertResponse.data.path.trim())?_c('div',{staticClass:\"converter_result_error\"},[_vm._v(\" \"+_vm._s(_vm.convertResponse.message)+\" \")]):_c('div',{staticClass:\"converter_result_content\"},[_c('div',{staticClass:\"converter_result_content_img\"},[_c('img',{attrs:{\"src\":_vm.convertResponse.data.path,\"alt\":\"预览失败\"}})]),_c('Button',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"type\":\"success\"},domProps:{\"textContent\":_vm._s(_vm.$t('download'))},on:{\"click\":function($event){return _vm.$downloadImage(_vm.convertResponse.data.path)}}})],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<i18n>\n{\n  \"en\": {\n    \"address\": \"picture address\",\n    \"choose\": \"choose picture\",\n    \"type\": \"output type\",\n    \"address-placeholder\": \"remote picture address\",\n    \"size\": \"output size\",\n    \"origin\": \"keep origin size\",\n    \"custom\": \"custom size\",\n    \"lock\": \"lock aspect ratio\",\n    \"convert\": \"convert\",\n    \"output\": \"output\",\n    \"tip\": \"right click to download the picture\",\n    \"download\": \"download\",\n    \"picture-error\": \"preview failed\"\n  },\n  \"cn\": {\n    \"address\": \"图片地址\",\n    \"choose\": \"选择图片\",\n    \"type\": \"输出类型\",\n    \"address-placeholder\": \"输入图片地址\",\n    \"size\": \"输出尺寸\",\n    \"origin\": \"保留原尺寸\",\n    \"custom\": \"自定义尺寸\",\n    \"lock\": \"锁定宽高\",\n    \"convert\": \"转换\",\n    \"output\": \"输出\",\n    \"tip\": \"右键下载图片\",\n    \"download\": \"下载图片\",\n    \"picture-error\": \"图片预览失败\"\n  }\n}\n</i18n>\n\n<template>\n  <Form :label-width=\"80\"\n        class=\"form_container\"\n        :style=\"converterCardStyles\">\n    <transition name=\"fade\">\n      <FormItem :label=\"$t('address')\"\n                key=\"http\"\n                v-if=\"type === 'http'\">\n        <Input v-model=\"formData.path\"\n               :placeholder=\"$t('address-placeholder')\"></Input>\n      </FormItem>\n      <FormItem :label=\"$t('choose')\"\n                key=\"local\"\n                v-else>\n        <div style=\"display: flex; flex-direction: row; align-items: flex-end;\">\n          <Upload style=\"width: 200px; height: 200px;\"\n                  :accept=\"accept\"\n                  :need-preview=\"true\"\n                  :format=\"formData.accept.split(';')\"\n                  @change=\"changeFile\"\n                  :style=\"resultStyles\"></Upload>\n          <span v-if=\"formData.file\"\n                style=\"margin-left: 10px; line-height: 1; font-family: Consolas,Menlo,Courier,monospace\"\n                v-text=\"imageOriginSize.width + 'x' + imageOriginSize.height\"></span>\n        </div>\n      </FormItem>\n    </transition>\n\n    <transition name=\"fade\"\n                :label-wdith=\"80\"\n                v-if=\"type === 'http' && formData.path && formData.path.trim()\">\n      <FormItem :label-width=\"80\">\n        <div style=\"display: flex; flex-direction: row; align-items: flex-end;\">\n          <div class=\"image_previewer\"\n               style=\"display: inline-flex;\">\n            <img :src=\"formData.path\"\n                 :alt=\"$t('picture-error')\"\n                 @load=\"imageLoaded\"\n                 @error=\"imageLoadError\">\n          </div>\n          <span v-if=\"imageIsReady\"\n                style=\"margin-left: 10px; line-height: 1; font-family: Consolas,Menlo,Courier,monospace\"\n                v-text=\"imageOriginSize.width + 'x' + imageOriginSize.height\"></span>\n        </div>\n      </FormItem>\n    </transition>\n\n    <FormItem :label=\"$t('type')\">\n      <Select filterable\n              v-model=\"formData.imageType\">\n        <Option v-for=\"(item, index) in allImageTypes\"\n                :key=\"item.label\"\n                :value=\"item.label\"\n                :label=\"item.label\"></Option>\n      </Select>\n    </FormItem>\n    <FormItem :label=\"$t('size')\">\n      <Select v-model=\"formData.imageSize\"\n              style=\"width: 150px; float: left;\"\n              @on-change=\"changeImageSize\">\n        <Option v-for=\"(item, index) in allSize\"\n                :key=\"item.label\"\n                :value=\"item.value\"\n                :label=\"item.label\"></Option>\n      </Select>\n      <div style=\"float: left; margin-left: 10px; display: inline-flex; flex-direction: row; align-items: center; justify-content: flex-start;\">\n        <transition name=\"fade\">\n          <Input v-model=\"formData.width\"\n                 style=\"width: 120px;\"\n                 :number=\"true\"\n                 @on-change=\"changeWidth\"\n                 v-if=\"formData.imageSize == -1\">\n          <span slot=\"prepend\"\n                v-text=\"$t('width')\"></span>\n          </Input>\n        </transition>\n        <transition name=\"fade\">\n          <Tooltip :content=\"$t('lock')\"\n                   placement=\"top\"\n                   style=\"width: 32px; height: 32px; margin-left: 10px;\"\n                   v-if=\"formData.imageSize == -1\">\n            <div class=\"size_lock\"\n                 @click=\"toggleLockSize\">\n              <svg>\n                <use :xlink:href=\"'#' + (lockSize ? 'icon-lock' : 'icon-unlock')\"></use>\n              </svg>\n            </div>\n          </Tooltip>\n        </transition>\n        <transition name=\"fade\">\n          <Input v-model=\"formData.height\"\n                 style=\"width: 120px; margin-left: 10px;\"\n                 :number=\"true\"\n                 @on-change=\"changeHeight\"\n                 v-if=\"formData.imageSize == -1\">\n          <span slot=\"prepend\"\n                v-text=\"$t('height')\"></span>\n          </Input>\n        </transition>\n      </div>\n    </FormItem>\n    <FormItem :label-width=\"80\">\n      <Button type=\"primary\"\n              :disabled=\"!imageIsReady && !formData.file\"\n              @click=\"doConvert\"\n              v-text=\"$t('convert')\"></Button>\n    </FormItem>\n    <transition name=\"fade\">\n      <div class=\"converter_result\">\n        <div class=\"converter_result_header\">\n          <div class=\"converter_result_header_bg\"\n               :style=\"resultStyles\"></div>\n          <div class=\"converter_result_header_content\"\n               :style=\"converterCardStyles\"\n               v-text=\"$t('output')\"></div>\n        </div>\n\n        <div class=\"converter_result_error\"\n             v-if=\"convertResponse.status !== 200 || !convertResponse.data.path || !convertResponse.data.path.trim()\">\n          {{convertResponse.message}}\n        </div>\n        <div class=\"converter_result_content\"\n             v-else>\n          <div class=\"converter_result_content_img\">\n            <img :src=\"convertResponse.data.path\"\n                 alt=\"预览失败\">\n          </div>\n          <!-- <span class=\"converter_result_content_tip\"\n                v-text=\"$t('tip')\"></span> -->\n          <Button type=\"success\"\n                  style=\"margin-top: 15px;\"\n                  @click=\"$downloadImage(convertResponse.data.path)\"\n                  v-text=\"$t('download')\"></Button>\n        </div>\n      </div>\n    </transition>\n  </Form>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\nconst { mapActions } = createNamespacedHelpers('../../../store/modules')\nimport { Button, Form, FormItem, Input, Select, Option, Tooltip } from 'view-design'\nexport default {\n  name: 'ConverterHttpImage',\n  components: {\n    Upload: () => import('../../../components/Upload'),\n    Button, Form, FormItem, Input, Select, Option, Tooltip\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'http'\n    },\n    allImageTypes: {\n      type: Array,\n      default () {\n        return []\n      }\n    },\n    allSize: {\n      type: Array,\n      default () {\n        return []\n      }\n    }\n  },\n  data () {\n    return {\n      lockSize: true,\n      convertResponse: {},\n      imageOriginSize: {\n        width: 0,\n        height: 0\n      },\n      formData: {\n        path: '',\n        accept: '',\n        file: null,\n        imageType: 'png',\n        width: 0,\n        height: 0,\n        imageSize: -2\n      },\n      imageIsReady: false,\n    }\n  },\n  computed: {\n    bgType () {\n      return this.$store.state.bgType\n    },\n    bg () {\n      return this.$store.state.bg\n    },\n    language () {\n      return this.$store.state.language\n    },\n    converterCardStyles () {\n      if (this.bgType != 'image' && this.bg) {\n        return {\n          backgroundColor: this.$lightenOrDarken(this.bg, -10)\n        }\n      } else {\n        return {\n          backgroundColor: '#fff'\n        }\n      }\n    },\n    resultStyles () {\n      if (this.bgType != 'image' && this.bg) {\n        return {\n          backgroundColor: this.$lightenOrDarken(this.bg, -20)\n        }\n      } else {\n        return {\n          backgroundColor: '#fff'\n        }\n      }\n    },\n    accept () {\n      return Array.from(new Set(this.allImageTypes.map(item => item.value))).join(',')\n    }\n  },\n  mounted () {\n    this.formData.accept = this.allImageTypes.map(item => item.label).join(';')\n  },\n  methods: {\n    ...mapActions([\n      'moduleConverter'\n    ]),\n    changeImageSize (e) {\n      if (Number(e) === -2) {\n        this.formData.width = this.imageOriginSize.width\n        this.formData.height = this.imageOriginSize.height\n      } else if (Number(e) === -1) { } else {\n        let size = this.allSize[Number(e) + 2]\n        this.formData.width = size.size\n        this.formData.height = size.size\n      }\n    },\n    toggleLockSize () {\n      this.lockSize = !this.lockSize\n    },\n    changeWidth () {\n      if (this.lockSize) {\n        this.formData.height = Math.floor(Number(this.formData.width) * Number(this.imageOriginSize.height) / Number(this.imageOriginSize.width))\n      }\n    },\n    changeHeight () {\n      if (this.lockSize) {\n        this.formData.width = Math.floor(Number(this.formData.height) * Number(this.imageOriginSize.width) / Number(this.imageOriginSize.height))\n      }\n    },\n    async doConvert () {\n      let response\n      if (this.type === 'http') {\n        response = await this.$store.dispatch('moduleConverter/doConvertFromHttp', this.formData)\n        if (response.status == 200 && response.data) {\n          this.convertResponse = response.data\n        } else {\n          this.convertResponse = {\n            status: 1001,\n            message: '失败',\n            data: null\n          }\n        }\n      } else {\n        response = await this.$store.dispatch('moduleConverter/doConvertFromLocal', this.formData)\n        if (response.status == 200 && response.data) {\n          this.convertResponse = response.data\n        } else {\n          this.convertResponse = {\n            status: 1001,\n            message: '失败',\n            data: null\n          }\n        }\n      }\n    },\n    imageLoaded (e) {\n      this.imageOriginSize = {\n        width: e.target.naturalWidth,\n        height: e.target.naturalHeight\n      }\n      this.formData.width = this.imageOriginSize.width\n      this.formData.height = this.imageOriginSize.height\n      this.imageIsReady = true\n    },\n    imageLoadError (e) {\n      this.imageIsReady = false\n      this.imageOriginSize = {\n        width: 0,\n        height: 0\n      }\n    },\n    changeFile (args) {\n      this.formData.file = args.file\n      let img = new Image()\n      img.onload = () => {\n        this.imageOriginSize = {\n          width: img.width,\n          height: img.height\n        }\n        this.formData.width = img.width\n        this.formData.height = img.height\n      }\n      img.src = this.$getFileURL(args.file)\n    }\n  },\n  watch: {\n    'formData.path': {\n      immediate: true,\n      handler (val) {\n        if (!val && !val.trim()) {\n          this.imageIsReady = false\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.form_container {\n  padding: 15px 30px;\n  box-sizing: border-box;\n}\n.converter_result {\n  width: 80%;\n  margin: 0 auto;\n  &_header {\n    position: relative;\n    width: 100%;\n    height: 32px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    &_bg {\n      width: 100%;\n      height: 1px;\n    }\n    &_content {\n      position: absolute;\n      padding: 0 20px;\n      box-sizing: border-box;\n      height: 32px;\n      margin: 0 auto;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n  &_error {\n    padding: 10px 0 0 0;\n    box-sizing: border-box;\n  }\n  &_content {\n    padding: 10px 0 0 0;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    &_img {\n      width: 150px;\n      height: 150px;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: center;\n      img {\n        max-width: 100%;\n        max-height: 100%;\n      }\n    }\n    &_tip {\n      margin-top: 15px;\n      color: #aaa;\n    }\n  }\n}\n.size_lock {\n  width: 32px;\n  height: 32px;\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  svg {\n    width: 20px;\n    height: 20px;\n    fill: #515a6e;\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./httpImage.vue?vue&type=template&id=ffa332c4&scoped=true&\"\nimport script from \"./httpImage.vue?vue&type=script&lang=js&\"\nexport * from \"./httpImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./httpImage.vue?vue&type=style&index=0&id=ffa332c4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ffa332c4\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./httpImage.vue?vue&type=custom&index=0&blockType=i18n\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpImage.vue?vue&type=style&index=0&id=ffa332c4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpImage.vue?vue&type=style&index=0&id=ffa332c4&lang=less&scoped=true&\"","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"address\":\"picture address\",\"choose\":\"choose picture\",\"type\":\"output type\",\"address-placeholder\":\"remote picture address\",\"size\":\"output size\",\"origin\":\"keep origin size\",\"custom\":\"custom size\",\"lock\":\"lock aspect ratio\",\"convert\":\"convert\",\"output\":\"output\",\"tip\":\"right click to download the picture\",\"download\":\"download\",\"picture-error\":\"preview failed\"},\"cn\":{\"address\":\"图片地址\",\"choose\":\"选择图片\",\"type\":\"输出类型\",\"address-placeholder\":\"输入图片地址\",\"size\":\"输出尺寸\",\"origin\":\"保留原尺寸\",\"custom\":\"自定义尺寸\",\"lock\":\"锁定宽高\",\"convert\":\"转换\",\"output\":\"输出\",\"tip\":\"右键下载图片\",\"download\":\"下载图片\",\"picture-error\":\"图片预览失败\"}}')\n  delete Component.options._Ctor\n}\n","import mod from \"-!../../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpImage.vue?vue&type=custom&index=0&blockType=i18n\"; export default mod; export * from \"-!../../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpImage.vue?vue&type=custom&index=0&blockType=i18n\""],"sourceRoot":""}